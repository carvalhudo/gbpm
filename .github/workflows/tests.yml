name: tests

on: [push]

jobs:
  tests:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python 3.8
      uses: actions/setup-python@v1
      with:
        python-version: 3.8
    - name: Build docker image for unit testing
      run: docker image build -t gbpm-tests -f tests/Dockerfile .
    - name: Running unit tests
      run: docker container run -v $(pwd):/gbpm --rm --name gbpm gbpm-tests:latest
